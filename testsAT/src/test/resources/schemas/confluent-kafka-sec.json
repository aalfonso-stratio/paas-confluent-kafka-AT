{
  "id": "/id",
  "cmd": "export PATH=$(ls -d $MESOS_SANDBOX/jre*/bin):$PATH && ./scheduler/bin/kafka-scheduler server ./scheduler/conf/scheduler.yml",
  "args": null,
  "user": null,
  "env": {
    "KAFKA_OVERRIDE_LEADER_IMBALANCE_CHECK_INTERVAL_SECONDS": "300",
    "KAFKA_OVERRIDE_OFFSET_METADATA_MAX_BYTES": "4096",
    "VAULT_HOST": "host",
    "KAFKA_OVERRIDE_PRODUCER_PURGATORY_PURGE_INTERVAL_REQUESTS": "1000",
    "KAFKA_OVERRIDE_ZOOKEEPER_SESSION_TIMEOUT_MS": "6000",
    "KAFKA_OVERRIDE_LEADER_IMBALANCE_PER_BROKER_PERCENTAGE": "10",
    "KAFKA_OVERRIDE_CONTROLLED_SHUTDOWN_MAX_RETRIES": "3",
    "KAFKA_OVERRIDE_LOG_CLEANER_DEDUPE_BUFFER_SIZE": "134217728",
    "LD_LIBRARY_PATH": "/opt/mesosphere/lib",
    "KAFKA_OVERRIDE_CONTROLLER_SOCKET_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_OFFSETS_LOAD_BUFFER_SIZE": "5242880",
    "BROKER_MEM": "2304",
    "KAFKA_OVERRIDE_QUEUED_MAX_REQUESTS": "500",
    "KAFKA_OVERRIDE_LOG_CLEANER_IO_BUFFER_LOAD_FACTOR": "0.9",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_REPLICATION_FACTOR": "3",
    "BROKER_COUNT": "3",
    "KAFKA_OVERRIDE_QUOTA_CONSUMER_DEFAULT": "9223372036854775807",
    "KAFKA_OVERRIDE_INTER_BROKER_PROTOCOL_VERSION": "0.10.0.0",
    "BROKER_HEALTH_CHECK_MAX_FAILURES": "3",
    "KAFKA_OVERRIDE_LOG_CLEANER_DELETE_RETENTION_MS": "86400000",
    "KAFKA_OVERRIDE_CONFLUENT_SUPPORT_CUSTOMER_ID": "anonymous",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_SEGMENT_BYTES": "104857600",
    "BROKER_CPUS": "1",
    "KAFKA_OVERRIDE_LOG_FLUSH_OFFSET_CHECKPOINT_INTERVAL_MS": "60000",
    "KAFKA_OVERRIDE_OFFSETS_COMMIT_TIMEOUT_MS": "5000",
    "KAFKA_OVERRIDE_AUTO_CREATE_TOPICS_ENABLE": "true",
    "KAFKA_OVERRIDE_LOG_CLEANER_THREADS": "1",
    "JAVA_URI": "https://downloads.mesosphere.com/kafka/assets/jre-8u112-linux-x64.tar.gz",
    "KAFKA_OVERRIDE_DELETE_TOPIC_ENABLE": "false",
    "KAFKA_OVERRIDE_MIN_INSYNC_REPLICAS": "1",
    "PHASE_STRATEGY": "INSTALL",
    "ENABLE_BROKER_HEALTH_CHECK": "true",
    "KAFKA_OVERRIDE_QUOTA_PRODUCER_DEFAULT": "9223372036854775807",
    "KAFKA_OVERRIDE_GROUP_MIN_SESSION_TIMEOUT_MS": "6000",
    "KAFKA_OVERRIDE_SOCKET_RECEIVE_BUFFER_BYTES": "102400",
    "KAFKA_OVERRIDE_COMPRESSION_TYPE": "producer",
    "BROKER_HEALTH_CHECK_DELAY_SEC": "15",
    "KAFKA_ADVERTISE_HOST_IP": "true",
    "VAULT_TOKEN": "token",
    "KAFKA_OVERRIDE_REPLICA_SOCKET_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_OFFSETS_RETENTION_CHECK_INTERVAL_MS": "600000",
    "KAFKA_OVERRIDE_SOCKET_REQUEST_MAX_BYTES": "104857600",
    "BROKER_HEALTH_CHECK_GRACE_SEC": "10",
    "BROKER_PORT": "0",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_COMPRESSION_CODEC": "0",
    "KAFKA_OVERRIDE_LOG_CLEANER_ENABLE": "true",
    "KAFKA_OVERRIDE_DEFAULT_REPLICATION_FACTOR": "1",
    "KAFKA_OVERRIDE_LOG_ROLL_JITTER_HOURS": "0",
    "KAFKA_OVERRIDE_LOG_SEGMENT_DELETE_DELAY_MS": "60000",
    "KAFKA_OVERRIDE_SOCKET_SEND_BUFFER_BYTES": "102400",
    "KAFKA_OVERRIDE_BACKGROUND_THREADS": "10",
    "KAFKA_OVERRIDE_LOG_CLEANER_IO_BUFFER_SIZE": "524288",
    "KAFKA_OVERRIDE_NUM_REPLICA_FETCHERS": "1",
    "KAFKA_OVERRIDE_METRICS_NUM_SAMPLES": "2",
    "OVERRIDER_URI": "http://sodio.stratio.com/repository/paas/dcos-kafka-service/overrider.zip",
    "KAFKA_OVERRIDE_AUTO_LEADER_REBALANCE_ENABLE": "true",
    "KAFKA_OVERRIDE_UNCLEAN_LEADER_ELECTION_ENABLE": "true",
    "KAFKA_OVERRIDE_NUM_RECOVERY_THREADS_PER_DATA_DIR": "1",
    "BROKER_HEAP_MB": "2048",
    "KAFKA_OVERRIDE_OFFSETS_TOPIC_NUM_PARTITIONS": "50",
    "USER": "root",
    "PLACEMENT_STRATEGY": "NODE",
    "KAFKA_OVERRIDE_OFFSETS_RETENTION_MINUTES": "1440",
    "KAFKA_OVERRIDE_LOG_FLUSH_SCHEDULER_INTERVAL_MS": "9223372036854775807",
    "KAFKA_OVERRIDE_LOG_CLEANER_IO_MAX_BYTES_PER_SECOND": "1.7976931348623157E308",
    "KAFKA_OVERRIDE_OFFSETS_COMMIT_REQUIRED_ACKS": "-1",
    "KAFKA_OVERRIDE_QUOTA_WINDOW_SIZE_SECONDS": "1",
    "FRAMEWORK_PRINCIPAL": "confluent-kafka-principal",
    "KAFKA_OVERRIDE_REPLICA_HIGH_WATERMARK_CHECKPOINT_INTERVAL_MS": "5000",
    "KAFKA_OVERRIDE_LOG_RETENTION_HOURS": "168",
    "RECOVERY_GRACE_PERIOD_SEC": "1200",
    "BROKER_HEALTH_CHECK_INTERVAL_SEC": "10",
    "KAFKA_OVERRIDE_CONNECTIONS_MAX_IDLE_MS": "600000",
    "KAFKA_OVERRIDE_LOG_INDEX_INTERVAL_BYTES": "4096",
    "KAFKA_OVERRIDE_RESERVED_BROKER_MAX_ID": "1000",
    "KAFKA_OVERRIDE_LOG_CLEANER_BACKOFF_MS": "15000",
    "REPLACE_DELAY_SEC": "600",
    "KAFKA_OVERRIDE_MESSAGE_MAX_BYTES": "1000012",
    "KAFKA_OVERRIDE_MAX_CONNECTIONS_PER_IP": "2147483647",
    "KAFKA_OVERRIDE_LOG_CLEANER_MIN_CLEANABLE_RATIO": "0.5",
    "KAFKA_OVERRIDE_LOG_ROLL_HOURS": "168",
    "DISK_TYPE": "ROOT",
    "KAFKA_OVERRIDE_LOG_INDEX_SIZE_MAX_BYTES": "10485760",
    "KAFKA_OVERRIDE_QUOTA_WINDOW_NUM": "11",
    "KAFKA_OVERRIDE_REPLICA_FETCH_MIN_BYTES": "1",
    "VAULT_PORT": "port",
    "KAFKA_OVERRIDE_REQUEST_TIMEOUT_MS": "30000",
    "KAFKA_OVERRIDE_LOG_FLUSH_INTERVAL_MESSAGES": "9223372036854775807",
    "KAFKA_OVERRIDE_LOG_RETENTION_CHECK_INTERVAL_MS": "300000",
    "EXECUTOR_URI": "http://sodio.stratio.com/repository/paas/dcos-kafka-service/executor.zip",
    "KAFKA_OVERRIDE_ZOOKEEPER_SYNC_TIME_MS": "2000",
    "KAFKA_OVERRIDE_REPLICA_LAG_TIME_MAX_MS": "10000",
    "KAFKA_OVERRIDE_NUM_NETWORK_THREADS": "3",
    "KAFKA_OVERRIDE_LOG_MESSAGE_FORMAT_VERSION": "0.10.0",
    "FRAMEWORK_NAME": "confluent-kafka-sec",
    "KAFKA_URI": "https://packages.confluent.io/archive/3.1/confluent-oss-3.1.1-mesos.tgz",
    "KAFKA_OVERRIDE_CONTROLLED_SHUTDOWN_RETRY_BACKOFF_MS": "5000",
    "KAFKA_OVERRIDE_NUM_PARTITIONS": "1",
    "BROKER_HEALTH_CHECK_TIMEOUT_SEC": "20",
    "ENABLE_REPLACEMENT": "false",
    "KAFKA_OVERRIDE_GROUP_MAX_SESSION_TIMEOUT_MS": "300000",
    "KAFKA_OVERRIDE_REPLICA_FETCH_MAX_BYTES": "1048576",
    "KAFKA_OVERRIDE_CONTROLLED_SHUTDOWN_ENABLE": "true",
    "KAFKA_OVERRIDE_MAX_CONNECTIONS_PER_IP_OVERRIDES": "",
    "KAFKA_OVERRIDE_METRICS_SAMPLE_WINDOW_MS": "30000",
    "KAFKA_OVERRIDE_NUM_IO_THREADS": "8",
    "KAFKA_OVERRIDE_LOG_SEGMENT_BYTES": "1073741824",
    "KAFKA_OVERRIDE_LOG_PREALLOCATE": "false",
    "KAFKA_OVERRIDE_LOG_RETENTION_BYTES": "-1",
    "KAFKA_OVERRIDE_CONFLUENT_SUPPORT_METRICS_ENABLE": "false",
    "KAFKA_OVERRIDE_REPLICA_FETCH_WAIT_MAX_MS": "500",
    "KAFKA_OVERRIDE_FETCH_PURGATORY_PURGE_INTERVAL_REQUESTS": "1000",
    "KAFKA_OVERRIDE_LOG_CLEANUP_POLICY": "delete",
    "BROKER_DISK": "5000",
    "KAFKA_ZOOKEEPER_URI": "master.mesos:2181",
    "KAFKA_OVERRIDE_REPLICA_FETCH_BACKOFF_MS": "1000",
    "KAFKA_OVERRIDE_REPLICA_SOCKET_RECEIVE_BUFFER_BYTES": "65536",
    "KAFKA_VER_NAME": "kafka_confluent-oss-3.1.1"
  },
  "instances": 1,
  "cpus": 1,
  "mem": 1230,
  "disk": 0,
  "gpus": 0,
  "executor": null,
  "constraints": null,
  "fetch": [
    {
      "uri": "https://downloads.mesosphere.com/kafka/assets/jre-8u112-linux-x64.tar.gz"
    },
    {
      "uri": "http://sodio.stratio.com/repository/paas/dcos-kafka-service/scheduler.zip"
    },
    {
      "uri": "https://packages.confluent.io/archive/3.1/confluent-oss-3.1.1-mesos.tgz"
    }
  ],
  "storeUrls": null,
  "backoffSeconds": 1,
  "backoffFactor": 1.15,
  "maxLaunchDelaySeconds": 3600,
  "container": null,
  "healthChecks": [
    {
      "protocol": "HTTP",
      "path": "/admin/healthcheck",
      "gracePeriodSeconds": 120,
      "intervalSeconds": 30,
      "timeoutSeconds": 5,
      "ignoreHttp1xx": false
    }
  ],
  "readinessChecks": [
    {
      "name": "confluentUpdateProgress",
      "protocol": "HTTP",
      "path": "/v1/plan",
      "portName": "api",
      "intervalSeconds": 30,
      "timeoutSeconds": 10,
      "httpStatusCodesForReady": [
        200
      ],
      "preserveLastResponse": true
    }
  ],
  "dependencies": null,
  "upgradeStrategy": {
    "minimumHealthCapacity": 0,
    "maximumOverCapacity": 0
  },
  "labels": {
    "DCOS_PACKAGE_RELEASE": "2",
    "DCOS_SERVICE_SCHEME": "http",
    "DCOS_PACKAGE_SOURCE": "http://172.19.1.0:8080/repo",
    "DCOS_PACKAGE_COMMAND": "eyJwaXAiOlsiaHR0cHM6Ly9kb3dubG9hZHMubWVzb3NwaGVyZS5jb20va2Fma2EvYXNzZXRzLzEuMS4xNy0wLjEwLjEuMC9iaW5fd3JhcHBlci0wLjAuMS1weTIucHkzLW5vbmUtYW55LndobCJdfQ==",
    "DCOS_PACKAGE_METADATA": "eyJwYWNrYWdpbmdWZXJzaW9uIjoiMy4wIiwibmFtZSI6ImNvbmZsdWVudC1rYWZrYS1zZWMiLCJ2ZXJzaW9uIjoiMS4xLjE3LTMuMS4xIiwibWFpbnRhaW5lciI6InN1cHBvcnRAc3RyYXRpby5jb20iLCJkZXNjcmlwdGlvbiI6IkFwYWNoZSBLYWZrYSBieSBDb25mbHVlbnRcblxuXHREb2N1bWVudGF0aW9uOiBodHRwczovL3d3dy5jb25mbHVlbnQuaW8vd2hpdGVwYXBlci9kZXBsb3lpbmctY29uZmx1ZW50LXBsYXRmb3JtLXdpdGgtbWVzb3NwaGVyZSIsInRhZ3MiOlsibWVzc2FnZSIsImJyb2tlciIsInB1YnN1YiIsImthZmthIiwiY29uZmx1ZW50IiwidGxzIl0sInNlbGVjdGVkIjp0cnVlLCJmcmFtZXdvcmsiOnRydWUsInBvc3RJbnN0YWxsTm90ZXMiOiJBcGFjaGUgS2Fma2EgYnkgQ29uZmx1ZW50IGlzIGJlaW5nIGluc3RhbGxlZC5cblxuXHREb2N1bWVudGF0aW9uOiBodHRwczovL3d3dy5jb25mbHVlbnQuaW8vd2hpdGVwYXBlci9kZXBsb3lpbmctY29uZmx1ZW50LXBsYXRmb3JtLXdpdGgtbWVzb3NwaGVyZVxuXHRDb21tdW5pdHkgU3VwcG9ydDogaHR0cHM6Ly9ncm91cHMuZ29vZ2xlLmNvbS9mb3J1bS8jIWZvcnVtL2NvbmZsdWVudC1wbGF0Zm9ybSIsInBvc3RVbmluc3RhbGxOb3RlcyI6IkFwYWNoZSBLYWZrYSBieSBDb25mbHVlbnQgaGFzIGJlZW4gdW5pbnN0YWxsZWQuXG5QbGVhc2UgZm9sbG93IHRoZSBpbnN0cnVjdGlvbnMgYXQgaHR0cHM6Ly9kb2NzLm1lc29zcGhlcmUuY29tL2N1cnJlbnQvdXNhZ2Uvc2VydmljZS1ndWlkZXMva2Fma2EvdW5pbnN0YWxsIHRvIHJlbW92ZSBhbnkgcGVyc2lzdGVudCBzdGF0ZSBpZiByZXF1aXJlZC4iLCJsaWNlbnNlcyI6W3sibmFtZSI6IkFwYWNoZSBMaWNlbnNlIHYyIiwidXJsIjoiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NvbmZsdWVudGluYy9rYWZrYS90cnVuay9MSUNFTlNFIn1dLCJpbWFnZXMiOnsiaWNvbi1zbWFsbCI6Imh0dHBzOi8vZG93bmxvYWRzLm1lc29zcGhlcmUuY29tL3VuaXZlcnNlL2Fzc2V0cy9pY29uLXNlcnZpY2Uta2Fma2Etc21hbGwucG5nIiwiaWNvbi1tZWRpdW0iOiJodHRwczovL2Rvd25sb2Fkcy5tZXNvc3BoZXJlLmNvbS91bml2ZXJzZS9hc3NldHMvaWNvbi1zZXJ2aWNlLWthZmthLW1lZGl1bS5wbmciLCJpY29uLWxhcmdlIjoiaHR0cHM6Ly9kb3dubG9hZHMubWVzb3NwaGVyZS5jb20vdW5pdmVyc2UvYXNzZXRzL2ljb24tc2VydmljZS1rYWZrYS1sYXJnZS5wbmcifX0=",
    "DCOS_PACKAGE_REGISTRY_VERSION": "3.0",
    "DCOS_SERVICE_NAME": "confluent-kafka-sec",
    "DCOS_PACKAGE_FRAMEWORK_NAME": "confluent-kafka-sec",
    "DCOS_SERVICE_PORT_INDEX": "1",
    "DCOS_PACKAGE_VERSION": "1.1.17-3.1.1",
    "DCOS_MIGRATION_API_PATH": "/v1/plan",
    "DCOS_PACKAGE_NAME": "confluent-kafka-sec",
    "MARATHON_SINGLE_INSTANCE_APP": "true",
    "DCOS_PACKAGE_IS_FRAMEWORK": "true",
    "DCOS_MIGRATION_API_VERSION": "v1"
  },
  "acceptedResourceRoles": null,
  "ipAddress": null,
  "residency": null,
  "secrets": null,
  "taskKillGracePeriodSeconds": null,
  "portDefinitions": [
    {
      "protocol": "tcp",
      "port": 10000,
      "name": "health"
    },
    {
      "protocol": "tcp",
      "port": 1,
      "name": "api"
    }
  ],
  "requirePorts": false
}